<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inicio de Sesión</title>
</head>
<body>
  <h2>Inicio de Sesión</h2>
  <input type="text" id="cedula" placeholder="Cédula" />
  <input type="password" id="pin" placeholder="PIN" />
  <button onclick="iniciarSesion()">Ingresar</button>

  <div id="resultado"></div>

  <script>
    function iniciarSesion() {
      const cedula = document.getElementById("cedula").value.trim();
      const pin = document.getElementById("pin").value.trim();
      
      const url = `https://script.google.com/macros/s/AKfycbz1NFlruXf3drBc6qiLvks_FXuYro7PAA0rq2_G_fRpVOH8C1xBWbkBe8NDYPJud-krXg/exec?cedula=${encodeURIComponent(cedula)}&pin=${encodeURIComponent(pin)}`;

      fetch(url)
        .then(res => res.json())
        .then(data => {
          const resultado = document.getElementById("resultado");
          resultado.innerHTML = "";

          if (data.error) {
            resultado.innerHTML = `<p style="color:red;">${data.error}</p>`;
            return;
          }

          // Mostrar solo la información relevante
          resultado.innerHTML = `
            <h3>Hola ${data.Nombres} ${data.Apellidos}</h3>
            <p><strong>Paralelo:</strong> ${data.Paralelo}</p>
            <p><strong>Saldo Final:</strong> $${data["SaldoFinal"]}</p>
            <p><strong>Deuda:</strong> $${data["Deuda"]}</p>
          `;
        })
        .catch(err => {
          console.error("Error al conectar:", err);
          document.getElementById("resultado").innerHTML = "<p>Error al conectar con el servidor</p>";
        });
    }
  </script>
</body>
</html>
